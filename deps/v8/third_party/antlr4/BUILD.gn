# Copyright 2018 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

config("antlr-compatibility") {
  if (!is_clang && !is_win) {
    cflags = [
      # Avoid warnings in generated Antlr code
      "-Wno-unused-but-set-variable",
    ]
  }
  if (current_os == "aix") {
    cflags += [ "-fdollars-in-identifiers" ]
  }
}

source_set("antlr4") {
  defines = [ "ANTLR4CPP_STATIC" ]

  include_dirs = [ "runtime/Cpp/runtime/src" ]

  sources = [
    "runtime/Cpp/runtime/src/ANTLRErrorListener.cpp",
    "runtime/Cpp/runtime/src/ANTLRErrorListener.h",
    "runtime/Cpp/runtime/src/ANTLRErrorStrategy.cpp",
    "runtime/Cpp/runtime/src/ANTLRErrorStrategy.h",
    "runtime/Cpp/runtime/src/ANTLRFileStream.cpp",
    "runtime/Cpp/runtime/src/ANTLRFileStream.h",
    "runtime/Cpp/runtime/src/ANTLRInputStream.cpp",
    "runtime/Cpp/runtime/src/ANTLRInputStream.h",
    "runtime/Cpp/runtime/src/BailErrorStrategy.cpp",
    "runtime/Cpp/runtime/src/BailErrorStrategy.h",
    "runtime/Cpp/runtime/src/BaseErrorListener.cpp",
    "runtime/Cpp/runtime/src/BaseErrorListener.h",
    "runtime/Cpp/runtime/src/BufferedTokenStream.cpp",
    "runtime/Cpp/runtime/src/BufferedTokenStream.h",
    "runtime/Cpp/runtime/src/CharStream.cpp",
    "runtime/Cpp/runtime/src/CharStream.h",
    "runtime/Cpp/runtime/src/CommonToken.cpp",
    "runtime/Cpp/runtime/src/CommonToken.h",
    "runtime/Cpp/runtime/src/CommonTokenFactory.cpp",
    "runtime/Cpp/runtime/src/CommonTokenFactory.h",
    "runtime/Cpp/runtime/src/CommonTokenStream.cpp",
    "runtime/Cpp/runtime/src/CommonTokenStream.h",
    "runtime/Cpp/runtime/src/ConsoleErrorListener.cpp",
    "runtime/Cpp/runtime/src/ConsoleErrorListener.h",
    "runtime/Cpp/runtime/src/DefaultErrorStrategy.cpp",
    "runtime/Cpp/runtime/src/DefaultErrorStrategy.h",
    "runtime/Cpp/runtime/src/DiagnosticErrorListener.cpp",
    "runtime/Cpp/runtime/src/DiagnosticErrorListener.h",
    "runtime/Cpp/runtime/src/Exceptions.cpp",
    "runtime/Cpp/runtime/src/Exceptions.h",
    "runtime/Cpp/runtime/src/FailedPredicateException.cpp",
    "runtime/Cpp/runtime/src/FailedPredicateException.h",
    "runtime/Cpp/runtime/src/InputMismatchException.cpp",
    "runtime/Cpp/runtime/src/InputMismatchException.h",
    "runtime/Cpp/runtime/src/IntStream.cpp",
    "runtime/Cpp/runtime/src/IntStream.h",
    "runtime/Cpp/runtime/src/InterpreterRuleContext.cpp",
    "runtime/Cpp/runtime/src/InterpreterRuleContext.h",
    "runtime/Cpp/runtime/src/Lexer.cpp",
    "runtime/Cpp/runtime/src/Lexer.h",
    "runtime/Cpp/runtime/src/LexerInterpreter.cpp",
    "runtime/Cpp/runtime/src/LexerInterpreter.h",
    "runtime/Cpp/runtime/src/LexerNoViableAltException.cpp",
    "runtime/Cpp/runtime/src/LexerNoViableAltException.h",
    "runtime/Cpp/runtime/src/ListTokenSource.cpp",
    "runtime/Cpp/runtime/src/ListTokenSource.h",
    "runtime/Cpp/runtime/src/NoViableAltException.cpp",
    "runtime/Cpp/runtime/src/NoViableAltException.h",
    "runtime/Cpp/runtime/src/Parser.cpp",
    "runtime/Cpp/runtime/src/Parser.h",
    "runtime/Cpp/runtime/src/ParserInterpreter.cpp",
    "runtime/Cpp/runtime/src/ParserInterpreter.h",
    "runtime/Cpp/runtime/src/ParserRuleContext.cpp",
    "runtime/Cpp/runtime/src/ParserRuleContext.h",
    "runtime/Cpp/runtime/src/ProxyErrorListener.cpp",
    "runtime/Cpp/runtime/src/ProxyErrorListener.h",
    "runtime/Cpp/runtime/src/RecognitionException.cpp",
    "runtime/Cpp/runtime/src/RecognitionException.h",
    "runtime/Cpp/runtime/src/Recognizer.cpp",
    "runtime/Cpp/runtime/src/Recognizer.h",
    "runtime/Cpp/runtime/src/RuleContext.cpp",
    "runtime/Cpp/runtime/src/RuleContext.h",
    "runtime/Cpp/runtime/src/RuleContextWithAltNum.cpp",
    "runtime/Cpp/runtime/src/RuleContextWithAltNum.h",
    "runtime/Cpp/runtime/src/RuntimeMetaData.cpp",
    "runtime/Cpp/runtime/src/RuntimeMetaData.h",
    "runtime/Cpp/runtime/src/Token.cpp",
    "runtime/Cpp/runtime/src/Token.h",
    "runtime/Cpp/runtime/src/TokenFactory.h",
    "runtime/Cpp/runtime/src/TokenSource.cpp",
    "runtime/Cpp/runtime/src/TokenSource.h",
    "runtime/Cpp/runtime/src/TokenStream.cpp",
    "runtime/Cpp/runtime/src/TokenStream.h",
    "runtime/Cpp/runtime/src/TokenStreamRewriter.cpp",
    "runtime/Cpp/runtime/src/TokenStreamRewriter.h",
    "runtime/Cpp/runtime/src/UnbufferedCharStream.cpp",
    "runtime/Cpp/runtime/src/UnbufferedCharStream.h",
    "runtime/Cpp/runtime/src/UnbufferedTokenStream.cpp",
    "runtime/Cpp/runtime/src/UnbufferedTokenStream.h",
    "runtime/Cpp/runtime/src/Vocabulary.cpp",
    "runtime/Cpp/runtime/src/Vocabulary.h",
    "runtime/Cpp/runtime/src/WritableToken.cpp",
    "runtime/Cpp/runtime/src/WritableToken.h",
    "runtime/Cpp/runtime/src/antlr4-common.h",
    "runtime/Cpp/runtime/src/antlr4-runtime.h",
    "runtime/Cpp/runtime/src/atn/ATN.cpp",
    "runtime/Cpp/runtime/src/atn/ATN.h",
    "runtime/Cpp/runtime/src/atn/ATNConfig.cpp",
    "runtime/Cpp/runtime/src/atn/ATNConfig.h",
    "runtime/Cpp/runtime/src/atn/ATNConfigSet.cpp",
    "runtime/Cpp/runtime/src/atn/ATNConfigSet.h",
    "runtime/Cpp/runtime/src/atn/ATNDeserializationOptions.cpp",
    "runtime/Cpp/runtime/src/atn/ATNDeserializationOptions.h",
    "runtime/Cpp/runtime/src/atn/ATNDeserializer.cpp",
    "runtime/Cpp/runtime/src/atn/ATNDeserializer.h",
    "runtime/Cpp/runtime/src/atn/ATNSerializer.cpp",
    "runtime/Cpp/runtime/src/atn/ATNSerializer.h",
    "runtime/Cpp/runtime/src/atn/ATNSimulator.cpp",
    "runtime/Cpp/runtime/src/atn/ATNSimulator.h",
    "runtime/Cpp/runtime/src/atn/ATNState.cpp",
    "runtime/Cpp/runtime/src/atn/ATNState.h",
    "runtime/Cpp/runtime/src/atn/ATNType.h",
    "runtime/Cpp/runtime/src/atn/AbstractPredicateTransition.cpp",
    "runtime/Cpp/runtime/src/atn/AbstractPredicateTransition.h",
    "runtime/Cpp/runtime/src/atn/ActionTransition.cpp",
    "runtime/Cpp/runtime/src/atn/ActionTransition.h",
    "runtime/Cpp/runtime/src/atn/AmbiguityInfo.cpp",
    "runtime/Cpp/runtime/src/atn/AmbiguityInfo.h",
    "runtime/Cpp/runtime/src/atn/ArrayPredictionContext.cpp",
    "runtime/Cpp/runtime/src/atn/ArrayPredictionContext.h",
    "runtime/Cpp/runtime/src/atn/AtomTransition.cpp",
    "runtime/Cpp/runtime/src/atn/AtomTransition.h",
    "runtime/Cpp/runtime/src/atn/BasicBlockStartState.cpp",
    "runtime/Cpp/runtime/src/atn/BasicBlockStartState.h",
    "runtime/Cpp/runtime/src/atn/BasicState.cpp",
    "runtime/Cpp/runtime/src/atn/BasicState.h",
    "runtime/Cpp/runtime/src/atn/BlockEndState.cpp",
    "runtime/Cpp/runtime/src/atn/BlockEndState.h",
    "runtime/Cpp/runtime/src/atn/BlockStartState.cpp",
    "runtime/Cpp/runtime/src/atn/BlockStartState.h",
    "runtime/Cpp/runtime/src/atn/ContextSensitivityInfo.cpp",
    "runtime/Cpp/runtime/src/atn/ContextSensitivityInfo.h",
    "runtime/Cpp/runtime/src/atn/DecisionEventInfo.cpp",
    "runtime/Cpp/runtime/src/atn/DecisionEventInfo.h",
    "runtime/Cpp/runtime/src/atn/DecisionInfo.cpp",
    "runtime/Cpp/runtime/src/atn/DecisionInfo.h",
    "runtime/Cpp/runtime/src/atn/DecisionState.cpp",
    "runtime/Cpp/runtime/src/atn/DecisionState.h",
    "runtime/Cpp/runtime/src/atn/EmptyPredictionContext.cpp",
    "runtime/Cpp/runtime/src/atn/EmptyPredictionContext.h",
    "runtime/Cpp/runtime/src/atn/EpsilonTransition.cpp",
    "runtime/Cpp/runtime/src/atn/EpsilonTransition.h",
    "runtime/Cpp/runtime/src/atn/ErrorInfo.cpp",
    "runtime/Cpp/runtime/src/atn/ErrorInfo.h",
    "runtime/Cpp/runtime/src/atn/LL1Analyzer.cpp",
    "runtime/Cpp/runtime/src/atn/LL1Analyzer.h",
    "runtime/Cpp/runtime/src/atn/LexerATNConfig.cpp",
    "runtime/Cpp/runtime/src/atn/LexerATNConfig.h",
    "runtime/Cpp/runtime/src/atn/LexerATNSimulator.cpp",
    "runtime/Cpp/runtime/src/atn/LexerATNSimulator.h",
    "runtime/Cpp/runtime/src/atn/LexerAction.cpp",
    "runtime/Cpp/runtime/src/atn/LexerAction.h",
    "runtime/Cpp/runtime/src/atn/LexerActionExecutor.cpp",
    "runtime/Cpp/runtime/src/atn/LexerActionExecutor.h",
    "runtime/Cpp/runtime/src/atn/LexerActionType.h",
    "runtime/Cpp/runtime/src/atn/LexerChannelAction.cpp",
    "runtime/Cpp/runtime/src/atn/LexerChannelAction.h",
    "runtime/Cpp/runtime/src/atn/LexerCustomAction.cpp",
    "runtime/Cpp/runtime/src/atn/LexerCustomAction.h",
    "runtime/Cpp/runtime/src/atn/LexerIndexedCustomAction.cpp",
    "runtime/Cpp/runtime/src/atn/LexerIndexedCustomAction.h",
    "runtime/Cpp/runtime/src/atn/LexerModeAction.cpp",
    "runtime/Cpp/runtime/src/atn/LexerModeAction.h",
    "runtime/Cpp/runtime/src/atn/LexerMoreAction.cpp",
    "runtime/Cpp/runtime/src/atn/LexerMoreAction.h",
    "runtime/Cpp/runtime/src/atn/LexerPopModeAction.cpp",
    "runtime/Cpp/runtime/src/atn/LexerPopModeAction.h",
    "runtime/Cpp/runtime/src/atn/LexerPushModeAction.cpp",
    "runtime/Cpp/runtime/src/atn/LexerPushModeAction.h",
    "runtime/Cpp/runtime/src/atn/LexerSkipAction.cpp",
    "runtime/Cpp/runtime/src/atn/LexerSkipAction.h",
    "runtime/Cpp/runtime/src/atn/LexerTypeAction.cpp",
    "runtime/Cpp/runtime/src/atn/LexerTypeAction.h",
    "runtime/Cpp/runtime/src/atn/LookaheadEventInfo.cpp",
    "runtime/Cpp/runtime/src/atn/LookaheadEventInfo.h",
    "runtime/Cpp/runtime/src/atn/LoopEndState.cpp",
    "runtime/Cpp/runtime/src/atn/LoopEndState.h",
    "runtime/Cpp/runtime/src/atn/NotSetTransition.cpp",
    "runtime/Cpp/runtime/src/atn/NotSetTransition.h",
    "runtime/Cpp/runtime/src/atn/OrderedATNConfigSet.cpp",
    "runtime/Cpp/runtime/src/atn/OrderedATNConfigSet.h",
    "runtime/Cpp/runtime/src/atn/ParseInfo.cpp",
    "runtime/Cpp/runtime/src/atn/ParseInfo.h",
    "runtime/Cpp/runtime/src/atn/ParserATNSimulator.cpp",
    "runtime/Cpp/runtime/src/atn/ParserATNSimulator.h",
    "runtime/Cpp/runtime/src/atn/PlusBlockStartState.cpp",
    "runtime/Cpp/runtime/src/atn/PlusBlockStartState.h",
    "runtime/Cpp/runtime/src/atn/PlusLoopbackState.cpp",
    "runtime/Cpp/runtime/src/atn/PlusLoopbackState.h",
    "runtime/Cpp/runtime/src/atn/PrecedencePredicateTransition.cpp",
    "runtime/Cpp/runtime/src/atn/PrecedencePredicateTransition.h",
    "runtime/Cpp/runtime/src/atn/PredicateEvalInfo.cpp",
    "runtime/Cpp/runtime/src/atn/PredicateEvalInfo.h",
    "runtime/Cpp/runtime/src/atn/PredicateTransition.cpp",
    "runtime/Cpp/runtime/src/atn/PredicateTransition.h",
    "runtime/Cpp/runtime/src/atn/PredictionContext.cpp",
    "runtime/Cpp/runtime/src/atn/PredictionContext.h",
    "runtime/Cpp/runtime/src/atn/PredictionMode.cpp",
    "runtime/Cpp/runtime/src/atn/PredictionMode.h",
    "runtime/Cpp/runtime/src/atn/ProfilingATNSimulator.cpp",
    "runtime/Cpp/runtime/src/atn/ProfilingATNSimulator.h",
    "runtime/Cpp/runtime/src/atn/RangeTransition.cpp",
    "runtime/Cpp/runtime/src/atn/RangeTransition.h",
    "runtime/Cpp/runtime/src/atn/RuleStartState.cpp",
    "runtime/Cpp/runtime/src/atn/RuleStartState.h",
    "runtime/Cpp/runtime/src/atn/RuleStopState.cpp",
    "runtime/Cpp/runtime/src/atn/RuleStopState.h",
    "runtime/Cpp/runtime/src/atn/RuleTransition.cpp",
    "runtime/Cpp/runtime/src/atn/RuleTransition.h",
    "runtime/Cpp/runtime/src/atn/SemanticContext.cpp",
    "runtime/Cpp/runtime/src/atn/SemanticContext.h",
    "runtime/Cpp/runtime/src/atn/SetTransition.cpp",
    "runtime/Cpp/runtime/src/atn/SetTransition.h",
    "runtime/Cpp/runtime/src/atn/SingletonPredictionContext.cpp",
    "runtime/Cpp/runtime/src/atn/SingletonPredictionContext.h",
    "runtime/Cpp/runtime/src/atn/StarBlockStartState.cpp",
    "runtime/Cpp/runtime/src/atn/StarBlockStartState.h",
    "runtime/Cpp/runtime/src/atn/StarLoopEntryState.cpp",
    "runtime/Cpp/runtime/src/atn/StarLoopEntryState.h",
    "runtime/Cpp/runtime/src/atn/StarLoopbackState.cpp",
    "runtime/Cpp/runtime/src/atn/StarLoopbackState.h",
    "runtime/Cpp/runtime/src/atn/TokensStartState.cpp",
    "runtime/Cpp/runtime/src/atn/TokensStartState.h",
    "runtime/Cpp/runtime/src/atn/Transition.cpp",
    "runtime/Cpp/runtime/src/atn/Transition.h",
    "runtime/Cpp/runtime/src/atn/WildcardTransition.cpp",
    "runtime/Cpp/runtime/src/atn/WildcardTransition.h",
    "runtime/Cpp/runtime/src/dfa/DFA.cpp",
    "runtime/Cpp/runtime/src/dfa/DFA.h",
    "runtime/Cpp/runtime/src/dfa/DFASerializer.cpp",
    "runtime/Cpp/runtime/src/dfa/DFASerializer.h",
    "runtime/Cpp/runtime/src/dfa/DFAState.cpp",
    "runtime/Cpp/runtime/src/dfa/DFAState.h",
    "runtime/Cpp/runtime/src/dfa/LexerDFASerializer.cpp",
    "runtime/Cpp/runtime/src/dfa/LexerDFASerializer.h",
    "runtime/Cpp/runtime/src/misc/InterpreterDataReader.cpp",
    "runtime/Cpp/runtime/src/misc/InterpreterDataReader.h",
    "runtime/Cpp/runtime/src/misc/Interval.cpp",
    "runtime/Cpp/runtime/src/misc/Interval.h",
    "runtime/Cpp/runtime/src/misc/IntervalSet.cpp",
    "runtime/Cpp/runtime/src/misc/IntervalSet.h",
    "runtime/Cpp/runtime/src/misc/MurmurHash.cpp",
    "runtime/Cpp/runtime/src/misc/MurmurHash.h",
    "runtime/Cpp/runtime/src/misc/Predicate.cpp",
    "runtime/Cpp/runtime/src/misc/Predicate.h",
    "runtime/Cpp/runtime/src/support/Any.cpp",
    "runtime/Cpp/runtime/src/support/Any.h",
    "runtime/Cpp/runtime/src/support/Arrays.cpp",
    "runtime/Cpp/runtime/src/support/Arrays.h",
    "runtime/Cpp/runtime/src/support/BitSet.h",
    "runtime/Cpp/runtime/src/support/CPPUtils.cpp",
    "runtime/Cpp/runtime/src/support/CPPUtils.h",
    "runtime/Cpp/runtime/src/support/Declarations.h",
    "runtime/Cpp/runtime/src/support/StringUtils.cpp",
    "runtime/Cpp/runtime/src/support/StringUtils.h",
    "runtime/Cpp/runtime/src/support/guid.cpp",
    "runtime/Cpp/runtime/src/support/guid.h",
    "runtime/Cpp/runtime/src/tree/AbstractParseTreeVisitor.h",
    "runtime/Cpp/runtime/src/tree/ErrorNode.cpp",
    "runtime/Cpp/runtime/src/tree/ErrorNode.h",
    "runtime/Cpp/runtime/src/tree/ErrorNodeImpl.cpp",
    "runtime/Cpp/runtime/src/tree/ErrorNodeImpl.h",
    "runtime/Cpp/runtime/src/tree/IterativeParseTreeWalker.cpp",
    "runtime/Cpp/runtime/src/tree/IterativeParseTreeWalker.h",
    "runtime/Cpp/runtime/src/tree/ParseTree.cpp",
    "runtime/Cpp/runtime/src/tree/ParseTree.h",
    "runtime/Cpp/runtime/src/tree/ParseTreeListener.cpp",
    "runtime/Cpp/runtime/src/tree/ParseTreeListener.h",
    "runtime/Cpp/runtime/src/tree/ParseTreeProperty.h",
    "runtime/Cpp/runtime/src/tree/ParseTreeVisitor.cpp",
    "runtime/Cpp/runtime/src/tree/ParseTreeVisitor.h",
    "runtime/Cpp/runtime/src/tree/ParseTreeWalker.cpp",
    "runtime/Cpp/runtime/src/tree/ParseTreeWalker.h",
    "runtime/Cpp/runtime/src/tree/TerminalNode.cpp",
    "runtime/Cpp/runtime/src/tree/TerminalNode.h",
    "runtime/Cpp/runtime/src/tree/TerminalNodeImpl.cpp",
    "runtime/Cpp/runtime/src/tree/TerminalNodeImpl.h",
    "runtime/Cpp/runtime/src/tree/Trees.cpp",
    "runtime/Cpp/runtime/src/tree/Trees.h",
    "runtime/Cpp/runtime/src/tree/pattern/Chunk.cpp",
    "runtime/Cpp/runtime/src/tree/pattern/Chunk.h",
    "runtime/Cpp/runtime/src/tree/pattern/ParseTreeMatch.cpp",
    "runtime/Cpp/runtime/src/tree/pattern/ParseTreeMatch.h",
    "runtime/Cpp/runtime/src/tree/pattern/ParseTreePattern.cpp",
    "runtime/Cpp/runtime/src/tree/pattern/ParseTreePattern.h",
    "runtime/Cpp/runtime/src/tree/pattern/ParseTreePatternMatcher.cpp",
    "runtime/Cpp/runtime/src/tree/pattern/ParseTreePatternMatcher.h",
    "runtime/Cpp/runtime/src/tree/pattern/RuleTagToken.cpp",
    "runtime/Cpp/runtime/src/tree/pattern/RuleTagToken.h",
    "runtime/Cpp/runtime/src/tree/pattern/TagChunk.cpp",
    "runtime/Cpp/runtime/src/tree/pattern/TagChunk.h",
    "runtime/Cpp/runtime/src/tree/pattern/TextChunk.cpp",
    "runtime/Cpp/runtime/src/tree/pattern/TextChunk.h",
    "runtime/Cpp/runtime/src/tree/pattern/TokenTagToken.cpp",
    "runtime/Cpp/runtime/src/tree/pattern/TokenTagToken.h",
    "runtime/Cpp/runtime/src/tree/xpath/XPath.cpp",
    "runtime/Cpp/runtime/src/tree/xpath/XPath.h",
    "runtime/Cpp/runtime/src/tree/xpath/XPathElement.cpp",
    "runtime/Cpp/runtime/src/tree/xpath/XPathElement.h",
    "runtime/Cpp/runtime/src/tree/xpath/XPathLexer.cpp",
    "runtime/Cpp/runtime/src/tree/xpath/XPathLexer.h",
    "runtime/Cpp/runtime/src/tree/xpath/XPathLexerErrorListener.cpp",
    "runtime/Cpp/runtime/src/tree/xpath/XPathLexerErrorListener.h",
    "runtime/Cpp/runtime/src/tree/xpath/XPathRuleAnywhereElement.cpp",
    "runtime/Cpp/runtime/src/tree/xpath/XPathRuleAnywhereElement.h",
    "runtime/Cpp/runtime/src/tree/xpath/XPathRuleElement.cpp",
    "runtime/Cpp/runtime/src/tree/xpath/XPathRuleElement.h",
    "runtime/Cpp/runtime/src/tree/xpath/XPathTokenAnywhereElement.cpp",
    "runtime/Cpp/runtime/src/tree/xpath/XPathTokenAnywhereElement.h",
    "runtime/Cpp/runtime/src/tree/xpath/XPathTokenElement.cpp",
    "runtime/Cpp/runtime/src/tree/xpath/XPathTokenElement.h",
    "runtime/Cpp/runtime/src/tree/xpath/XPathWildcardAnywhereElement.cpp",
    "runtime/Cpp/runtime/src/tree/xpath/XPathWildcardAnywhereElement.h",
    "runtime/Cpp/runtime/src/tree/xpath/XPathWildcardElement.cpp",
    "runtime/Cpp/runtime/src/tree/xpath/XPathWildcardElement.h",
  ]

  configs -= [
    "//build/config/compiler:chromium_code",
    "//build/config/compiler:no_rtti",
    "//build/config/compiler:no_exceptions",
  ]

  configs += [
    "//build/config/compiler:no_chromium_code",
    "//build/config/compiler:rtti",
    "//build/config/compiler:exceptions",
    ":antlr-compatibility",
  ]
}
