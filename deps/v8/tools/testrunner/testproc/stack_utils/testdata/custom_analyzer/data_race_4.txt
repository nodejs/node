WARNING: ThreadSanitizer: data race (pid=21413)
  Write of size 8 at 0x7eba001056b8 by main thread:
    #0 __tsan_memmove /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:3118:3 (d8+0x566140) (BuildId: 06e6c95b54bbb645)
    #1 MemMove src/utils/memcopy.h:123:7 (d8+0x949b82) (BuildId: 06e6c95b54bbb645)
    #2 v8::internal::Heap::MoveRange(v8::internal::HeapObject, v8::internal::CompressedObjectSlot, v8::internal::CompressedObjectSlot, int, v8::internal::WriteBarrierMode) src/heap/heap.cc:2027:5 (d8+0x949b82)
    #3 MoveElements src/objects/fixed-array-inl.h:262:20 (d8+0xc1577f) (BuildId: 06e6c95b54bbb645)
    #4 v8::internal::(anonymous namespace)::FastElementsAccessor<v8::internal::(anonymous namespace)::FastPackedObjectElementsAccessor, v8::internal::(anonymous namespace)::ElementsKindTraits<(v8::internal::ElementsKind)2>>::MoveElements(v8::internal::Isolate*, v8::internal::Handle<v8::internal::JSArray>, v8::internal::Handle<v8::internal::FixedArrayBase>, int, int, int, int, int) src/objects/elements.cc:2242:16 (d8+0xc1577f)
    #5 v8::internal::(anonymous namespace)::FastElementsAccessor<v8::internal::(anonymous namespace)::FastPackedObjectElementsAccessor, v8::internal::(anonymous namespace)::ElementsKindTraits<(v8::internal::ElementsKind)2>>::AddArguments(v8::internal::Handle<v8::internal::JSArray>, v8::internal::Handle<v8::internal::FixedArrayBase>, v8::internal::BuiltinArguments*, unsigned int, v8::internal::(anonymous namespace)::Where) src/objects/elements.cc:2491:7 (d8+0xc1545d) (BuildId: 06e6c95b54bbb645)
    #6 UnshiftImpl src/objects/elements.cc:2218:12 (d8+0xc12e43) (BuildId: 06e6c95b54bbb645)
    #7 v8::internal::(anonymous namespace)::ElementsAccessorBase<v8::internal::(anonymous namespace)::FastPackedObjectElementsAccessor, v8::internal::(anonymous namespace)::ElementsKindTraits<(v8::internal::ElementsKind)2>>::Unshift(v8::internal::Handle<v8::internal::JSArray>, v8::internal::BuiltinArguments*, unsigned int) src/objects/elements.cc:732:12 (d8+0xc12e43)
    #8 v8::internal::Builtin_Impl_ArrayUnshift(v8::internal::BuiltinArguments, v8::internal::Isolate*) src/builtins/builtins-array.cc:640:3 (d8+0x6871cf) (BuildId: 06e6c95b54bbb645)
    #9 v8::internal::Builtin_ArrayUnshift(int, unsigned long*, v8::internal::Isolate*) src/builtins/builtins-array.cc:617:1 (d8+0x686d93) (BuildId: 06e6c95b54bbb645)
    #10 Builtins_AsyncFromSyncIteratorPrototypeThrow setup-isolate-deserialize.cc (d8+0x1dda837)
    #11 v8::internal::(anonymous namespace)::InvokeWithTryCatch(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) src/execution/execution.cc:489:20 (d8+0x85e89e) (BuildId: 06e6c95b54bbb645)
    #12 v8::internal::Execution::TryCall(v8::internal::Isolate*, v8::internal::Handle<v8::internal::Object>, v8::internal::Handle<v8::internal::Object>, int, v8::internal::Handle<v8::internal::Object>*, v8::internal::Execution::MessageHandling, v8::internal::MaybeHandle<v8::internal::Object>*, bool) src/execution/execution.cc:591:10 (d8+0x85eb68) (BuildId: 06e6c95b54bbb645)
    #13 v8::internal::SourceTextModule::ExecuteModule(v8::internal::Isolate*, v8::internal::Handle<v8::internal::SourceTextModule>) src/objects/source-text-module.cc:1021:3 (d8+0xe52c68) (BuildId: 06e6c95b54bbb645)
    #14 v8::internal::SourceTextModule::InnerModuleEvaluation(v8::internal::Isolate*, v8::internal::Handle<v8::internal::SourceTextModule>, v8::internal::ZoneForwardList<v8::internal::Handle<v8::internal::SourceTextModule>>*, unsigned int*) src/objects/source-text-module.cc:1192:5 (d8+0xe51d39) (BuildId: 06e6c95b54bbb645)
    #15 v8::internal::SourceTextModule::Evaluate(v8::internal::Isolate*, v8::internal::Handle<v8::internal::SourceTextModule>) src/objects/source-text-module.cc:733:8 (d8+0xe51368) (BuildId: 06e6c95b54bbb645)
    #16 v8::internal::Module::Evaluate(v8::internal::Isolate*, v8::internal::Handle<v8::internal::Module>) src/objects/module.cc:280:12 (d8+0xdf8599) (BuildId: 06e6c95b54bbb645)
    #17 v8::Module::Evaluate(v8::Local<v8::Context>) src/api/api.cc:2548:16 (d8+0x60552d) (BuildId: 06e6c95b54bbb645)
    #18 v8::Shell::ExecuteModule(v8::Isolate*, char const*) src/d8/d8.cc:1455:33 (d8+0x5c8cf1) (BuildId: 06e6c95b54bbb645)
    #19 v8::SourceGroup::Execute(v8::Isolate*) src/d8/d8.cc:4442:12 (d8+0x5da4a0) (BuildId: 06e6c95b54bbb645)
    #20 v8::Shell::RunMain(v8::Isolate*, bool) src/d8/d8.cc:5224:39 (d8+0x5de41e) (BuildId: 06e6c95b54bbb645)
    #21 v8::Shell::Main(int, char**) src/d8/d8.cc:6020:18 (d8+0x5e0906) (BuildId: 06e6c95b54bbb645)
    #22 main src/d8/d8.cc:6117:43 (d8+0x5e0f10) (BuildId: 06e6c95b54bbb645)

  Previous atomic read of size 4 at 0x7eba001056b8 by thread T5 (mutexes: write M0):
    #0 __cxx_atomic_load<int> buildtools/third_party/libc++/trunk/include/atomic:948:12 (d8+0xa98a99) (BuildId: 06e6c95b54bbb645)
    #1 load buildtools/third_party/libc++/trunk/include/atomic:1537:17 (d8+0xa98a99)
    #2 atomic_load_explicit<int> buildtools/third_party/libc++/trunk/include/atomic:1916:17 (d8+0xa98a99)
    #3 Relaxed_Load src/base/atomicops.h:237:10 (d8+0xa98a99)
    #4 Relaxed_Load<unsigned int> src/base/atomic-utils.h:87:9 (d8+0xa98a99)
    #5 Relaxed_Load src/objects/compressed-slots-inl.h:75:26 (d8+0xa98a99)
    #6 VisitPointer src/heap/sweeper.cc:678:50 (d8+0xa98a99)
    #7 VisitPointers src/heap/sweeper.cc:694:7 (d8+0xa98a99)
    #8 IteratePointers<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:128:6 (d8+0xa98a99)
    #9 IterateBody<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors.h:135:5 (d8+0xa98a99)
    #10 void v8::internal::CallIterateBody::apply<v8::internal::FixedArray::BodyDescriptor, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor>(v8::internal::Map, v8::internal::HeapObject, int, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*) src/objects/objects-body-descriptors-inl.h:1432:5 (d8+0xa98a99)
    #11 auto v8::internal::BodyDescriptorApply<v8::internal::CallIterateBody, v8::internal::Map&, v8::internal::HeapObject&, int&, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*&>(v8::internal::InstanceType, v8::internal::Map&, v8::internal::HeapObject&, int&, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*&) src/objects/objects-body-descriptors-inl.h (d8+0xa97d74) (BuildId: 06e6c95b54bbb645)
    #12 IterateBodyFast<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:1438:3 (d8+0xa9318c) (BuildId: 06e6c95b54bbb645)
    #13 IterateBodyFast<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:1425:3 (d8+0xa9318c)
    #14 IterateFast<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:1413:3 (d8+0xa9318c)
    #15 v8::internal::(anonymous namespace)::HandlePromotedObject(v8::internal::HeapObject, v8::internal::NonAtomicMarkingState*, v8::internal::PretenuringHandler*, v8::internal::PtrComprCageBase, std::Cr::unordered_map<v8::internal::AllocationSite, unsigned long, v8::internal::Object::Hasher, std::Cr::equal_to<v8::internal::AllocationSite>, std::Cr::allocator<std::Cr::pair<v8::internal::AllocationSite const, unsigned long>>>*, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*) src/heap/sweeper.cc:805:10 (d8+0xa9318c)
    #16 v8::internal::Sweeper::RawIteratePromotedPageForRememberedSets(v8::internal::MemoryChunk*, std::Cr::unordered_map<v8::internal::AllocationSite, unsigned long, v8::internal::Object::Hasher, std::Cr::equal_to<v8::internal::AllocationSite>, std::Cr::allocator<std::Cr::pair<v8::internal::AllocationSite const, unsigned long>>>*, std::Cr::unordered_map<v8::internal::MemoryChunk*, v8::internal::SlotSet*, std::Cr::hash<v8::internal::MemoryChunk*>, std::Cr::equal_to<v8::internal::MemoryChunk*>, std::Cr::allocator<std::Cr::pair<v8::internal::MemoryChunk* const, v8::internal::SlotSet*>>>*) src/heap/sweeper.cc:841:7 (d8+0xa92e20) (BuildId: 06e6c95b54bbb645)
    #17 ParallelIteratePromotedPageForRememberedSets src/heap/sweeper.cc:987:3 (d8+0xa9ffdc) (BuildId: 06e6c95b54bbb645)
    #18 v8::internal::Sweeper::ConcurrentSweeper::ConcurrentSweepForRememberedSet(v8::JobDelegate*) src/heap/sweeper.cc:61:17 (d8+0xa9ffdc)
    #19 v8::internal::Sweeper::SweeperJob::RunImpl(v8::JobDelegate*, bool) src/heap/sweeper.cc:126:31 (d8+0xa9f0f6) (BuildId: 06e6c95b54bbb645)
    #20 v8::internal::Sweeper::SweeperJob::Run(v8::JobDelegate*) src/heap/sweeper.cc:98:5 (d8+0xa9e6e9) (BuildId: 06e6c95b54bbb645)
    #21 v8::platform::DefaultJobWorker::Run() src/libplatform/default-job.h:147:18 (d8+0x201972b) (BuildId: 06e6c95b54bbb645)
    #22 v8::platform::DefaultWorkerThreadsTaskRunner::WorkerThread::Run() src/libplatform/default-worker-threads-task-runner.cc:73:11 (d8+0x201f240) (BuildId: 06e6c95b54bbb645)
    #23 NotifyStartedAndRun src/base/platform/platform.h:596:5 (d8+0x2013592) (BuildId: 06e6c95b54bbb645)
    #24 v8::base::ThreadEntry(void*) src/base/platform/platform-posix.cc:1123:11 (d8+0x2013592)

  Mutex M0 (0x7b0c000007e0) created at:
    #0 pthread_mutex_init /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1331:3 (d8+0x523300) (BuildId: 06e6c95b54bbb645)
    #1 InitializeNativeHandle src/base/platform/mutex.cc:99:12 (d8+0x200b32b) (BuildId: 06e6c95b54bbb645)
    #2 v8::base::Mutex::Mutex() src/base/platform/mutex.cc:152:3 (d8+0x200b32b)
    #3 v8::internal::MemoryChunk::MemoryChunk(v8::internal::Heap*, v8::internal::BaseSpace*, unsigned long, unsigned long, unsigned long, v8::internal::VirtualMemory, v8::internal::Executability, v8::internal::PageSize) src/heap/memory-chunk.cc:154:16 (d8+0xa3462f) (BuildId: 06e6c95b54bbb645)
    #4 v8::internal::Page::Page(v8::internal::Heap*, v8::internal::BaseSpace*, unsigned long, unsigned long, unsigned long, v8::internal::VirtualMemory, v8::internal::Executability) src/heap/spaces.cc:53:7 (d8+0xa8a50f) (BuildId: 06e6c95b54bbb645)
    #5 v8::internal::MemoryAllocator::AllocatePage(v8::internal::MemoryAllocator::AllocationMode, v8::internal::Space*, v8::internal::Executability) src/heap/memory-allocator.cc:579:40 (d8+0xa31224) (BuildId: 06e6c95b54bbb645)
    #6 v8::internal::PagedSpaceBase::TryExpandImpl() src/heap/paged-spaces.cc:393:44 (d8+0xa50188) (BuildId: 06e6c95b54bbb645)
    #7 PreallocatePages src/heap/new-spaces.cc:984:10 (d8+0xa3fab0) (BuildId: 06e6c95b54bbb645)
    #8 PagedSpaceForNewSpace src/heap/new-spaces.cc:901:8 (d8+0xa3fab0)
    #9 v8::internal::PagedNewSpace::PagedNewSpace(v8::internal::Heap*, unsigned long, unsigned long, v8::internal::LinearAllocationArea&) src/heap/new-spaces.cc:1016:7 (d8+0xa3fab0)
    #10 make_unique<v8::internal::PagedNewSpace, v8::internal::Heap *, unsigned long &, unsigned long &, v8::internal::LinearAllocationArea &> buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x959f81) (BuildId: 06e6c95b54bbb645)
    #11 v8::internal::Heap::SetUpSpaces(v8::internal::LinearAllocationArea&, v8::internal::LinearAllocationArea&) src/heap/heap.cc:5569:27 (d8+0x959f81)
    #12 v8::internal::Isolate::Init(v8::internal::SnapshotData*, v8::internal::SnapshotData*, v8::internal::SnapshotData*, bool) src/execution/isolate.cc:4348:9 (d8+0x88a11c) (BuildId: 06e6c95b54bbb645)
    #13 v8::internal::Isolate::InitWithSnapshot(v8::internal::SnapshotData*, v8::internal::SnapshotData*, v8::internal::SnapshotData*, bool) src/execution/isolate.cc:4064:10 (d8+0x88ba99) (BuildId: 06e6c95b54bbb645)
    #14 v8::internal::Snapshot::Initialize(v8::internal::Isolate*) src/snapshot/snapshot.cc:182:27 (d8+0x1103aed) (BuildId: 06e6c95b54bbb645)
    #15 v8::Isolate::Initialize(v8::Isolate*, v8::Isolate::CreateParams const&) src/api/api.cc:9049:8 (d8+0x62c749) (BuildId: 06e6c95b54bbb645)
    #16 v8::Isolate::New(v8::Isolate::CreateParams const&) src/api/api.cc:9085:3 (d8+0x62ca05) (BuildId: 06e6c95b54bbb645)
    #17 v8::Shell::Main(int, char**) src/d8/d8.cc:5909:22 (d8+0x5dffbe) (BuildId: 06e6c95b54bbb645)
    #18 main src/d8/d8.cc:6117:43 (d8+0x5e0f10) (BuildId: 06e6c95b54bbb645)

  Thread T5 'V8 DefaultWorke' (tid=21435, running) created by main thread at:
    #0 pthread_create /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1038:3 (d8+0x52198b) (BuildId: 06e6c95b54bbb645)
    #1 v8::base::Thread::Start() src/base/platform/platform-posix.cc:1155:14 (d8+0x20134a6) (BuildId: 06e6c95b54bbb645)
    #2 WorkerThread src/libplatform/default-worker-threads-task-runner.cc:66:3 (d8+0x201ec07) (BuildId: 06e6c95b54bbb645)
    #3 make_unique<v8::platform::DefaultWorkerThreadsTaskRunner::WorkerThread, v8::platform::DefaultWorkerThreadsTaskRunner *> buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x201ec07)
    #4 v8::platform::DefaultWorkerThreadsTaskRunner::DefaultWorkerThreadsTaskRunner(unsigned int, double (*)()) src/libplatform/default-worker-threads-task-runner.cc:16:28 (d8+0x201ec07)
    #5 construct_at<v8::platform::DefaultWorkerThreadsTaskRunner, const int &, double (*)(), v8::platform::DefaultWorkerThreadsTaskRunner *> buildtools/third_party/libc++/trunk/include/__memory/construct_at.h:38:48 (d8+0x2015d60) (BuildId: 06e6c95b54bbb645)
    #6 construct<v8::platform::DefaultWorkerThreadsTaskRunner, const int &, double (*)(), void, void> buildtools/third_party/libc++/trunk/include/__memory/allocator_traits.h:304:9 (d8+0x2015d60)
    #7 __shared_ptr_emplace<const int &, double (*)()> buildtools/third_party/libc++/trunk/include/__memory/shared_ptr.h:275:9 (d8+0x2015d60)
    #8 allocate_shared<v8::platform::DefaultWorkerThreadsTaskRunner, std::Cr::allocator<v8::platform::DefaultWorkerThreadsTaskRunner>, const int &, double (*)(), void> buildtools/third_party/libc++/trunk/include/__memory/shared_ptr.h:936:55 (d8+0x2015d60)
    #9 make_shared<v8::platform::DefaultWorkerThreadsTaskRunner, const int &, double (*)(), void> buildtools/third_party/libc++/trunk/include/__memory/shared_ptr.h:945:12 (d8+0x2015d60)
    #10 EnsureBackgroundTaskRunnerInitialized src/libplatform/default-platform.cc:132:7 (d8+0x2015d60)
    #11 v8::platform::DefaultPlatform::DefaultPlatform(int, v8::platform::IdleTaskSupport, std::Cr::unique_ptr<v8::TracingController, std::Cr::default_delete<v8::TracingController>>) src/libplatform/default-platform.cc:108:5 (d8+0x2015d60)
    #12 make_unique<v8::platform::DefaultPlatform, int &, v8::platform::IdleTaskSupport &, std::Cr::unique_ptr<v8::TracingController, std::Cr::default_delete<v8::TracingController> > > buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x20153d2) (BuildId: 06e6c95b54bbb645)
    #13 v8::platform::NewDefaultPlatform(int, v8::platform::IdleTaskSupport, v8::platform::InProcessStackDumping, std::Cr::unique_ptr<v8::TracingController, std::Cr::default_delete<v8::TracingController>>) src/libplatform/default-platform.cc:53:19 (d8+0x20153d2)
    #14 v8::Shell::Main(int, char**) src/d8/d8.cc:5812:16 (d8+0x5dfb09) (BuildId: 06e6c95b54bbb645)
    #15 main src/d8/d8.cc:6117:43 (d8+0x5e0f10) (BuildId: 06e6c95b54bbb645)

SUMMARY: ThreadSanitizer: data race src/utils/memcopy.h:123:7 in MemMove
==================
==================
WARNING: ThreadSanitizer: data race (pid=21413)
  Write of size 8 at 0x7eba001057e0 by main thread:
    #0 __tsan_memmove /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:3118:3 (d8+0x566140) (BuildId: 06e6c95b54bbb645)
    #1 MemMove src/utils/memcopy.h:123:7 (d8+0x949b82) (BuildId: 06e6c95b54bbb645)
    #2 v8::internal::Heap::MoveRange(v8::internal::HeapObject, v8::internal::CompressedObjectSlot, v8::internal::CompressedObjectSlot, int, v8::internal::WriteBarrierMode) src/heap/heap.cc:2027:5 (d8+0x949b82)
    #3 MoveElements src/objects/fixed-array-inl.h:262:20 (d8+0xc0b43a) (BuildId: 06e6c95b54bbb645)
    #4 v8::internal::(anonymous namespace)::FastElementsAccessor<v8::internal::(anonymous namespace)::FastPackedSmiElementsAccessor, v8::internal::(anonymous namespace)::ElementsKindTraits<(v8::internal::ElementsKind)0>>::MoveElements(v8::internal::Isolate*, v8::internal::Handle<v8::internal::JSArray>, v8::internal::Handle<v8::internal::FixedArrayBase>, int, int, int, int, int) src/objects/elements.cc:2242:16 (d8+0xc0b43a)
    #5 v8::internal::(anonymous namespace)::FastElementsAccessor<v8::internal::(anonymous namespace)::FastPackedSmiElementsAccessor, v8::internal::(anonymous namespace)::ElementsKindTraits<(v8::internal::ElementsKind)0>>::AddArguments(v8::internal::Handle<v8::internal::JSArray>, v8::internal::Handle<v8::internal::FixedArrayBase>, v8::internal::BuiltinArguments*, unsigned int, v8::internal::(anonymous namespace)::Where) src/objects/elements.cc:2491:7 (d8+0xc0b13a) (BuildId: 06e6c95b54bbb645)
    #6 UnshiftImpl src/objects/elements.cc:2218:12 (d8+0xc055f3) (BuildId: 06e6c95b54bbb645)
    #7 v8::internal::(anonymous namespace)::ElementsAccessorBase<v8::internal::(anonymous namespace)::FastPackedSmiElementsAccessor, v8::internal::(anonymous namespace)::ElementsKindTraits<(v8::internal::ElementsKind)0>>::Unshift(v8::internal::Handle<v8::internal::JSArray>, v8::internal::BuiltinArguments*, unsigned int) src/objects/elements.cc:732:12 (d8+0xc055f3)
    #8 v8::internal::Builtin_Impl_ArrayUnshift(v8::internal::BuiltinArguments, v8::internal::Isolate*) src/builtins/builtins-array.cc:640:3 (d8+0x6871cf) (BuildId: 06e6c95b54bbb645)
    #9 v8::internal::Builtin_ArrayUnshift(int, unsigned long*, v8::internal::Isolate*) src/builtins/builtins-array.cc:617:1 (d8+0x686d93) (BuildId: 06e6c95b54bbb645)
    #10 Builtins_AsyncFromSyncIteratorPrototypeThrow setup-isolate-deserialize.cc (d8+0x1dda837)
    #11 v8::internal::(anonymous namespace)::InvokeWithTryCatch(v8::internal::Isolate*, v8::internal::(anonymous namespace)::InvokeParams const&) src/execution/execution.cc:489:20 (d8+0x85e89e) (BuildId: 06e6c95b54bbb645)
    #12 v8::internal::Execution::TryCall(v8::internal::Isolate*, v8::internal::Handle<v8::internal::Object>, v8::internal::Handle<v8::internal::Object>, int, v8::internal::Handle<v8::internal::Object>*, v8::internal::Execution::MessageHandling, v8::internal::MaybeHandle<v8::internal::Object>*, bool) src/execution/execution.cc:591:10 (d8+0x85eb68) (BuildId: 06e6c95b54bbb645)
    #13 v8::internal::SourceTextModule::ExecuteModule(v8::internal::Isolate*, v8::internal::Handle<v8::internal::SourceTextModule>) src/objects/source-text-module.cc:1021:3 (d8+0xe52c68) (BuildId: 06e6c95b54bbb645)
    #14 v8::internal::SourceTextModule::InnerModuleEvaluation(v8::internal::Isolate*, v8::internal::Handle<v8::internal::SourceTextModule>, v8::internal::ZoneForwardList<v8::internal::Handle<v8::internal::SourceTextModule>>*, unsigned int*) src/objects/source-text-module.cc:1192:5 (d8+0xe51d39) (BuildId: 06e6c95b54bbb645)
    #15 v8::internal::SourceTextModule::Evaluate(v8::internal::Isolate*, v8::internal::Handle<v8::internal::SourceTextModule>) src/objects/source-text-module.cc:733:8 (d8+0xe51368) (BuildId: 06e6c95b54bbb645)
    #16 v8::internal::Module::Evaluate(v8::internal::Isolate*, v8::internal::Handle<v8::internal::Module>) src/objects/module.cc:280:12 (d8+0xdf8599) (BuildId: 06e6c95b54bbb645)
    #17 v8::Module::Evaluate(v8::Local<v8::Context>) src/api/api.cc:2548:16 (d8+0x60552d) (BuildId: 06e6c95b54bbb645)
    #18 v8::Shell::ExecuteModule(v8::Isolate*, char const*) src/d8/d8.cc:1455:33 (d8+0x5c8cf1) (BuildId: 06e6c95b54bbb645)
    #19 v8::SourceGroup::Execute(v8::Isolate*) src/d8/d8.cc:4442:12 (d8+0x5da4a0) (BuildId: 06e6c95b54bbb645)
    #20 v8::Shell::RunMain(v8::Isolate*, bool) src/d8/d8.cc:5224:39 (d8+0x5de41e) (BuildId: 06e6c95b54bbb645)
    #21 v8::Shell::Main(int, char**) src/d8/d8.cc:6020:18 (d8+0x5e0906) (BuildId: 06e6c95b54bbb645)
    #22 main src/d8/d8.cc:6117:43 (d8+0x5e0f10) (BuildId: 06e6c95b54bbb645)

  Previous atomic read of size 4 at 0x7eba001057e0 by thread T5 (mutexes: write M0):
    #0 __cxx_atomic_load<int> buildtools/third_party/libc++/trunk/include/atomic:948:12 (d8+0xa98a99) (BuildId: 06e6c95b54bbb645)
    #1 load buildtools/third_party/libc++/trunk/include/atomic:1537:17 (d8+0xa98a99)
    #2 atomic_load_explicit<int> buildtools/third_party/libc++/trunk/include/atomic:1916:17 (d8+0xa98a99)
    #3 Relaxed_Load src/base/atomicops.h:237:10 (d8+0xa98a99)
    #4 Relaxed_Load<unsigned int> src/base/atomic-utils.h:87:9 (d8+0xa98a99)
    #5 Relaxed_Load src/objects/compressed-slots-inl.h:75:26 (d8+0xa98a99)
    #6 VisitPointer src/heap/sweeper.cc:678:50 (d8+0xa98a99)
    #7 VisitPointers src/heap/sweeper.cc:694:7 (d8+0xa98a99)
    #8 IteratePointers<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:128:6 (d8+0xa98a99)
    #9 IterateBody<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors.h:135:5 (d8+0xa98a99)
    #10 void v8::internal::CallIterateBody::apply<v8::internal::FixedArray::BodyDescriptor, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor>(v8::internal::Map, v8::internal::HeapObject, int, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*) src/objects/objects-body-descriptors-inl.h:1432:5 (d8+0xa98a99)
    #11 auto v8::internal::BodyDescriptorApply<v8::internal::CallIterateBody, v8::internal::Map&, v8::internal::HeapObject&, int&, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*&>(v8::internal::InstanceType, v8::internal::Map&, v8::internal::HeapObject&, int&, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*&) src/objects/objects-body-descriptors-inl.h (d8+0xa97d74) (BuildId: 06e6c95b54bbb645)
    #12 IterateBodyFast<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:1438:3 (d8+0xa9318c) (BuildId: 06e6c95b54bbb645)
    #13 IterateBodyFast<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:1425:3 (d8+0xa9318c)
    #14 IterateFast<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:1413:3 (d8+0xa9318c)
    #15 v8::internal::(anonymous namespace)::HandlePromotedObject(v8::internal::HeapObject, v8::internal::NonAtomicMarkingState*, v8::internal::PretenuringHandler*, v8::internal::PtrComprCageBase, std::Cr::unordered_map<v8::internal::AllocationSite, unsigned long, v8::internal::Object::Hasher, std::Cr::equal_to<v8::internal::AllocationSite>, std::Cr::allocator<std::Cr::pair<v8::internal::AllocationSite const, unsigned long>>>*, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*) src/heap/sweeper.cc:805:10 (d8+0xa9318c)
    #16 v8::internal::Sweeper::RawIteratePromotedPageForRememberedSets(v8::internal::MemoryChunk*, std::Cr::unordered_map<v8::internal::AllocationSite, unsigned long, v8::internal::Object::Hasher, std::Cr::equal_to<v8::internal::AllocationSite>, std::Cr::allocator<std::Cr::pair<v8::internal::AllocationSite const, unsigned long>>>*, std::Cr::unordered_map<v8::internal::MemoryChunk*, v8::internal::SlotSet*, std::Cr::hash<v8::internal::MemoryChunk*>, std::Cr::equal_to<v8::internal::MemoryChunk*>, std::Cr::allocator<std::Cr::pair<v8::internal::MemoryChunk* const, v8::internal::SlotSet*>>>*) src/heap/sweeper.cc:841:7 (d8+0xa92e20) (BuildId: 06e6c95b54bbb645)
    #17 ParallelIteratePromotedPageForRememberedSets src/heap/sweeper.cc:987:3 (d8+0xa9ffdc) (BuildId: 06e6c95b54bbb645)
    #18 v8::internal::Sweeper::ConcurrentSweeper::ConcurrentSweepForRememberedSet(v8::JobDelegate*) src/heap/sweeper.cc:61:17 (d8+0xa9ffdc)
    #19 v8::internal::Sweeper::SweeperJob::RunImpl(v8::JobDelegate*, bool) src/heap/sweeper.cc:126:31 (d8+0xa9f0f6) (BuildId: 06e6c95b54bbb645)
    #20 v8::internal::Sweeper::SweeperJob::Run(v8::JobDelegate*) src/heap/sweeper.cc:98:5 (d8+0xa9e6e9) (BuildId: 06e6c95b54bbb645)
    #21 v8::platform::DefaultJobWorker::Run() src/libplatform/default-job.h:147:18 (d8+0x201972b) (BuildId: 06e6c95b54bbb645)
    #22 v8::platform::DefaultWorkerThreadsTaskRunner::WorkerThread::Run() src/libplatform/default-worker-threads-task-runner.cc:73:11 (d8+0x201f240) (BuildId: 06e6c95b54bbb645)
    #23 NotifyStartedAndRun src/base/platform/platform.h:596:5 (d8+0x2013592) (BuildId: 06e6c95b54bbb645)
    #24 v8::base::ThreadEntry(void*) src/base/platform/platform-posix.cc:1123:11 (d8+0x2013592)

  Mutex M0 (0x7b0c000007e0) created at:
    #0 pthread_mutex_init /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1331:3 (d8+0x523300) (BuildId: 06e6c95b54bbb645)
    #1 InitializeNativeHandle src/base/platform/mutex.cc:99:12 (d8+0x200b32b) (BuildId: 06e6c95b54bbb645)
    #2 v8::base::Mutex::Mutex() src/base/platform/mutex.cc:152:3 (d8+0x200b32b)
    #3 v8::internal::MemoryChunk::MemoryChunk(v8::internal::Heap*, v8::internal::BaseSpace*, unsigned long, unsigned long, unsigned long, v8::internal::VirtualMemory, v8::internal::Executability, v8::internal::PageSize) src/heap/memory-chunk.cc:154:16 (d8+0xa3462f) (BuildId: 06e6c95b54bbb645)
    #4 v8::internal::Page::Page(v8::internal::Heap*, v8::internal::BaseSpace*, unsigned long, unsigned long, unsigned long, v8::internal::VirtualMemory, v8::internal::Executability) src/heap/spaces.cc:53:7 (d8+0xa8a50f) (BuildId: 06e6c95b54bbb645)
    #5 v8::internal::MemoryAllocator::AllocatePage(v8::internal::MemoryAllocator::AllocationMode, v8::internal::Space*, v8::internal::Executability) src/heap/memory-allocator.cc:579:40 (d8+0xa31224) (BuildId: 06e6c95b54bbb645)
    #6 v8::internal::PagedSpaceBase::TryExpandImpl() src/heap/paged-spaces.cc:393:44 (d8+0xa50188) (BuildId: 06e6c95b54bbb645)
    #7 PreallocatePages src/heap/new-spaces.cc:984:10 (d8+0xa3fab0) (BuildId: 06e6c95b54bbb645)
    #8 PagedSpaceForNewSpace src/heap/new-spaces.cc:901:8 (d8+0xa3fab0)
    #9 v8::internal::PagedNewSpace::PagedNewSpace(v8::internal::Heap*, unsigned long, unsigned long, v8::internal::LinearAllocationArea&) src/heap/new-spaces.cc:1016:7 (d8+0xa3fab0)
    #10 make_unique<v8::internal::PagedNewSpace, v8::internal::Heap *, unsigned long &, unsigned long &, v8::internal::LinearAllocationArea &> buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x959f81) (BuildId: 06e6c95b54bbb645)
    #11 v8::internal::Heap::SetUpSpaces(v8::internal::LinearAllocationArea&, v8::internal::LinearAllocationArea&) src/heap/heap.cc:5569:27 (d8+0x959f81)
    #12 v8::internal::Isolate::Init(v8::internal::SnapshotData*, v8::internal::SnapshotData*, v8::internal::SnapshotData*, bool) src/execution/isolate.cc:4348:9 (d8+0x88a11c) (BuildId: 06e6c95b54bbb645)
    #13 v8::internal::Isolate::InitWithSnapshot(v8::internal::SnapshotData*, v8::internal::SnapshotData*, v8::internal::SnapshotData*, bool) src/execution/isolate.cc:4064:10 (d8+0x88ba99) (BuildId: 06e6c95b54bbb645)
    #14 v8::internal::Snapshot::Initialize(v8::internal::Isolate*) src/snapshot/snapshot.cc:182:27 (d8+0x1103aed) (BuildId: 06e6c95b54bbb645)
    #15 v8::Isolate::Initialize(v8::Isolate*, v8::Isolate::CreateParams const&) src/api/api.cc:9049:8 (d8+0x62c749) (BuildId: 06e6c95b54bbb645)
    #16 v8::Isolate::New(v8::Isolate::CreateParams const&) src/api/api.cc:9085:3 (d8+0x62ca05) (BuildId: 06e6c95b54bbb645)
    #17 v8::Shell::Main(int, char**) src/d8/d8.cc:5909:22 (d8+0x5dffbe) (BuildId: 06e6c95b54bbb645)
    #18 main src/d8/d8.cc:6117:43 (d8+0x5e0f10) (BuildId: 06e6c95b54bbb645)

  Thread T5 'V8 DefaultWorke' (tid=21435, running) created by main thread at:
    #0 pthread_create /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1038:3 (d8+0x52198b) (BuildId: 06e6c95b54bbb645)
    #1 v8::base::Thread::Start() src/base/platform/platform-posix.cc:1155:14 (d8+0x20134a6) (BuildId: 06e6c95b54bbb645)
    #2 WorkerThread src/libplatform/default-worker-threads-task-runner.cc:66:3 (d8+0x201ec07) (BuildId: 06e6c95b54bbb645)
    #3 make_unique<v8::platform::DefaultWorkerThreadsTaskRunner::WorkerThread, v8::platform::DefaultWorkerThreadsTaskRunner *> buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x201ec07)
    #4 v8::platform::DefaultWorkerThreadsTaskRunner::DefaultWorkerThreadsTaskRunner(unsigned int, double (*)()) src/libplatform/default-worker-threads-task-runner.cc:16:28 (d8+0x201ec07)
    #5 construct_at<v8::platform::DefaultWorkerThreadsTaskRunner, const int &, double (*)(), v8::platform::DefaultWorkerThreadsTaskRunner *> buildtools/third_party/libc++/trunk/include/__memory/construct_at.h:38:48 (d8+0x2015d60) (BuildId: 06e6c95b54bbb645)
    #6 construct<v8::platform::DefaultWorkerThreadsTaskRunner, const int &, double (*)(), void, void> buildtools/third_party/libc++/trunk/include/__memory/allocator_traits.h:304:9 (d8+0x2015d60)
    #7 __shared_ptr_emplace<const int &, double (*)()> buildtools/third_party/libc++/trunk/include/__memory/shared_ptr.h:275:9 (d8+0x2015d60)
    #8 allocate_shared<v8::platform::DefaultWorkerThreadsTaskRunner, std::Cr::allocator<v8::platform::DefaultWorkerThreadsTaskRunner>, const int &, double (*)(), void> buildtools/third_party/libc++/trunk/include/__memory/shared_ptr.h:936:55 (d8+0x2015d60)
    #9 make_shared<v8::platform::DefaultWorkerThreadsTaskRunner, const int &, double (*)(), void> buildtools/third_party/libc++/trunk/include/__memory/shared_ptr.h:945:12 (d8+0x2015d60)
    #10 EnsureBackgroundTaskRunnerInitialized src/libplatform/default-platform.cc:132:7 (d8+0x2015d60)
    #11 v8::platform::DefaultPlatform::DefaultPlatform(int, v8::platform::IdleTaskSupport, std::Cr::unique_ptr<v8::TracingController, std::Cr::default_delete<v8::TracingController>>) src/libplatform/default-platform.cc:108:5 (d8+0x2015d60)
    #12 make_unique<v8::platform::DefaultPlatform, int &, v8::platform::IdleTaskSupport &, std::Cr::unique_ptr<v8::TracingController, std::Cr::default_delete<v8::TracingController> > > buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x20153d2) (BuildId: 06e6c95b54bbb645)
    #13 v8::platform::NewDefaultPlatform(int, v8::platform::IdleTaskSupport, v8::platform::InProcessStackDumping, std::Cr::unique_ptr<v8::TracingController, std::Cr::default_delete<v8::TracingController>>) src/libplatform/default-platform.cc:53:19 (d8+0x20153d2)
    #14 v8::Shell::Main(int, char**) src/d8/d8.cc:5812:16 (d8+0x5dfb09) (BuildId: 06e6c95b54bbb645)
    #15 main src/d8/d8.cc:6117:43 (d8+0x5e0f10) (BuildId: 06e6c95b54bbb645)

SUMMARY: ThreadSanitizer: data race src/utils/memcopy.h:123:7 in MemMove
==================
ThreadSanitizer: reported 2 warnings