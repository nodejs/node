WARNING: ThreadSanitizer: data race (pid=10493)
  Write of size 8 at 0x553200140008 by main thread (mutexes: write M0, write M1, write M2, write M3, write M4):
    #0 v8::internal::MemoryChunk::SetOldGenerationPageFlags(bool) src/heap/memory-chunk.cc (d8+0xa31ff9) (BuildId: 8b25ec4b66132a89)
    #1 ActivateSpace src/heap/marking-barrier.cc:175:8 (d8+0xa281ec) (BuildId: 8b25ec4b66132a89)
    #2 ActivateSpaces src/heap/marking-barrier.cc:194:5 (d8+0xa281ec)
    #3 v8::internal::MarkingBarrier::ActivateAll(v8::internal::Heap*, bool, v8::internal::MarkingBarrierType) src/heap/marking-barrier.cc:261:3 (d8+0xa281ec)
    #4 v8::internal::IncrementalMarking::StartMarkingMajor() src/heap/incremental-marking.cc:333:3 (d8+0x971249) (BuildId: 8b25ec4b66132a89)
    #5 v8::internal::IncrementalMarking::Start(v8::internal::GarbageCollector, v8::internal::GarbageCollectionReason) src/heap/incremental-marking.cc:192:5 (d8+0x97072c) (BuildId: 8b25ec4b66132a89)
    #6 v8::internal::Heap::StartIncrementalMarking(int, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags, v8::internal::GarbageCollector) src/heap/heap.cc:1892:26 (d8+0x93d973) (BuildId: 8b25ec4b66132a89)
    #7 v8::internal::Heap::ReportExternalMemoryPressure() src/heap/heap.cc:1586:7 (d8+0x942526) (BuildId: 8b25ec4b66132a89)
    #8 ReportExternalAllocationLimitReached src/api/api.cc:8757:9 (d8+0x62d9b2) (BuildId: 8b25ec4b66132a89)
    #9 v8::Isolate::AdjustAmountOfExternalAllocatedMemory(long) src/api/api.cc:9442:5 (d8+0x62d9b2)
    #10 FromSharedPtr src/objects/managed-inl.h:47:9 (d8+0x5d30c0) (BuildId: 8b25ec4b66132a89)
    #11 v8::Shell::WorkerNew(v8::FunctionCallbackInfo<v8::Value> const&) src/d8/d8.cc:2944:36 (d8+0x5d30c0)
    #12 v8::internal::FunctionCallbackArguments::Call(v8::internal::CallHandlerInfo) src/api/api-arguments-inl.h:146:3 (d8+0x684709) (BuildId: 8b25ec4b66132a89)
    #13 v8::internal::MaybeHandle<v8::internal::Object> v8::internal::(anonymous namespace)::HandleApiCallHelper<true>(v8::internal::Isolate*, v8::internal::Handle<v8::internal::HeapObject>, v8::internal::Handle<v8::internal::FunctionTemplateInfo>, v8::internal::Handle<v8::internal::Object>, unsigned long*, int) src/builtins/builtins-api.cc:113:36 (d8+0x68312c) (BuildId: 8b25ec4b66132a89)
    #14 v8::internal::Builtin_Impl_HandleApiCall(v8::internal::BuiltinArguments, v8::internal::Isolate*) src/builtins/builtins-api.cc:144:5 (d8+0x68275b) (BuildId: 8b25ec4b66132a89)
    #15 v8::internal::Builtin_HandleApiCall(int, unsigned long*, v8::internal::Isolate*) src/builtins/builtins-api.cc:135:1 (d8+0x682273) (BuildId: 8b25ec4b66132a89)
    #16 Builtins_AsyncFromSyncIteratorPrototypeThrow setup-isolate-deserialize.cc (d8+0x1dd5837)
    #17 v8::internal::Execution::CallScript(v8::internal::Isolate*, v8::internal::Handle<v8::internal::JSFunction>, v8::internal::Handle<v8::internal::Object>, v8::internal::Handle<v8::internal::Object>) src/execution/execution.cc:538:10 (d8+0x85ca90) (BuildId: 8b25ec4b66132a89)
    #18 v8::Script::Run(v8::Local<v8::Context>, v8::Local<v8::Data>) src/api/api.cc:2271:7 (d8+0x603527) (BuildId: 8b25ec4b66132a89)
    #19 v8::Script::Run(v8::Local<v8::Context>) src/api/api.cc:2198:10 (d8+0x602ce0) (BuildId: 8b25ec4b66132a89)
    #20 v8::Shell::ExecuteString(v8::Isolate*, v8::Local<v8::String>, v8::Local<v8::String>, v8::Shell::PrintResult, v8::Shell::ReportExceptions, v8::Shell::ProcessMessageQueue) src/d8/d8.cc:876:28 (d8+0x5c03d6) (BuildId: 8b25ec4b66132a89)
    #21 v8::SourceGroup::Execute(v8::Isolate*) src/d8/d8.cc:4483:10 (d8+0x5da0d3) (BuildId: 8b25ec4b66132a89)
    #22 v8::Shell::RunMain(v8::Isolate*, bool) src/d8/d8.cc:5217:39 (d8+0x5de08e) (BuildId: 8b25ec4b66132a89)
    #23 v8::Shell::Main(int, char**) src/d8/d8.cc:5973:20 (d8+0x5e04ed) (BuildId: 8b25ec4b66132a89)
    #24 main src/d8/d8.cc:6110:43 (d8+0x5e0e80) (BuildId: 8b25ec4b66132a89)

  Previous read of size 8 at 0x553200140008 by thread T3 (mutexes: write M5):
    #0 operator& src/base/flags.h:56:18 (d8+0xa90de3) (BuildId: 8b25ec4b66132a89)
    #1 operator& src/base/flags.h:70:12 (d8+0xa90de3)
    #2 IsFlagSet src/heap/basic-memory-chunk.h:197:63 (d8+0xa90de3)
    #3 InSharedHeap src/heap/basic-memory-chunk.h:261:38 (d8+0xa90de3)
    #4 RecordOldToSharedMigratedSlot src/heap/sweeper.cc:779:23 (d8+0xa90de3)
    #5 v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor::RecordMigratedSlot(v8::internal::HeapObject, v8::internal::MaybeObject, unsigned long) src/heap/sweeper.cc:745:7 (d8+0xa90de3)
    #6 VisitPointer src/heap/sweeper.cc:684:5 (d8+0xa953ec) (BuildId: 8b25ec4b66132a89)
    #7 VisitPointers src/heap/sweeper.cc:698:7 (d8+0xa953ec)
    #8 IterateMaybeWeakPointers<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:141:6 (d8+0xa953ec)
    #9 IterateBody<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors.h:176:5 (d8+0xa953ec)
    #10 void v8::internal::CallIterateBody::apply<v8::internal::DescriptorArray::BodyDescriptor, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor>(v8::internal::Map, v8::internal::HeapObject, int, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*) src/objects/objects-body-descriptors-inl.h:1432:5 (d8+0xa953ec)
    #11 auto v8::internal::BodyDescriptorApply<v8::internal::CallIterateBody, v8::internal::Map&, v8::internal::HeapObject&, int&, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*&>(v8::internal::InstanceType, v8::internal::Map&, v8::internal::HeapObject&, int&, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*&) src/objects/objects-body-descriptors-inl.h:1392:7 (d8+0xa92aa8) (BuildId: 8b25ec4b66132a89)
    #12 IterateBodyFast<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:1438:3 (d8+0xa8d622) (BuildId: 8b25ec4b66132a89)
    #13 IterateBodyFast<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:1425:3 (d8+0xa8d622)
    #14 IterateFast<v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor> src/objects/objects-body-descriptors-inl.h:1413:3 (d8+0xa8d622)
    #15 v8::internal::(anonymous namespace)::HandlePromotedObject(v8::internal::HeapObject, v8::internal::NonAtomicMarkingState*, v8::internal::PretenuringHandler*, v8::internal::PtrComprCageBase, std::Cr::unordered_map<v8::internal::AllocationSite, unsigned long, v8::internal::Object::Hasher, std::Cr::equal_to<v8::internal::AllocationSite>, std::Cr::allocator<std::Cr::pair<v8::internal::AllocationSite const, unsigned long>>>*, v8::internal::(anonymous namespace)::PromotedPageRecordMigratedSlotVisitor*) src/heap/sweeper.cc:801:10 (d8+0xa8d622)
    #16 v8::internal::Sweeper::RawIteratePromotedPageForRememberedSets(v8::internal::MemoryChunk*, std::Cr::unordered_map<v8::internal::AllocationSite, unsigned long, v8::internal::Object::Hasher, std::Cr::equal_to<v8::internal::AllocationSite>, std::Cr::allocator<std::Cr::pair<v8::internal::AllocationSite const, unsigned long>>>*, std::Cr::unordered_map<v8::internal::MemoryChunk*, v8::internal::SlotSet*, std::Cr::hash<v8::internal::MemoryChunk*>, std::Cr::equal_to<v8::internal::MemoryChunk*>, std::Cr::allocator<std::Cr::pair<v8::internal::MemoryChunk* const, v8::internal::SlotSet*>>>*) src/heap/sweeper.cc:837:7 (d8+0xa8d42b) (BuildId: 8b25ec4b66132a89)
    #17 ParallelIteratePromotedPageForRememberedSets src/heap/sweeper.cc:984:3 (d8+0xa9a40c) (BuildId: 8b25ec4b66132a89)
    #18 v8::internal::Sweeper::ConcurrentSweeper::ConcurrentSweepForRememberedSet(v8::JobDelegate*) src/heap/sweeper.cc:60:17 (d8+0xa9a40c)
    #19 v8::internal::Sweeper::SweeperJob::RunImpl(v8::JobDelegate*, bool) src/heap/sweeper.cc:125:31 (d8+0xa99526) (BuildId: 8b25ec4b66132a89)
    #20 v8::internal::Sweeper::SweeperJob::Run(v8::JobDelegate*) src/heap/sweeper.cc:97:5 (d8+0xa98b19) (BuildId: 8b25ec4b66132a89)
    #21 v8::platform::DefaultJobWorker::Run() src/libplatform/default-job.h:147:18 (d8+0x201472b) (BuildId: 8b25ec4b66132a89)
    #22 v8::platform::DefaultWorkerThreadsTaskRunner::WorkerThread::Run() src/libplatform/default-worker-threads-task-runner.cc:73:11 (d8+0x201a240) (BuildId: 8b25ec4b66132a89)
    #23 NotifyStartedAndRun src/base/platform/platform.h:596:5 (d8+0x200e592) (BuildId: 8b25ec4b66132a89)
    #24 v8::base::ThreadEntry(void*) src/base/platform/platform-posix.cc:1123:11 (d8+0x200e592)

  Mutex M0 (0x563a3b443820) created at:
    #0 pthread_mutex_init /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1331:3 (d8+0x523300) (BuildId: 8b25ec4b66132a89)
    #1 InitializeNativeHandle src/base/platform/mutex.cc:99:12 (d8+0x200632b) (BuildId: 8b25ec4b66132a89)
    #2 v8::base::Mutex::Mutex() src/base/platform/mutex.cc:152:3 (d8+0x200632b)
    #3 Construct src/base/lazy-instance.h:129:68 (d8+0x5ecd69) (BuildId: 8b25ec4b66132a89)
    #4 InitStorageUsingTrait<v8::base::DefaultConstructTrait<v8::base::Mutex> > src/base/lazy-instance.h:106:5 (d8+0x5ecd69)
    #5 v8::base::LazyInstanceImpl<v8::base::Mutex, v8::base::StaticallyAllocatedInstanceTrait<v8::base::Mutex>, v8::base::DefaultConstructTrait<v8::base::Mutex>, v8::base::ThreadSafeInitOnceTrait, v8::base::LeakyInstanceTrait<v8::base::Mutex>>::InitInstance(void*) src/base/lazy-instance.h:170:5 (d8+0x5ecd69)
    #6 operator() src/base/once.h:101:32 (d8+0x5ecdad) (BuildId: 8b25ec4b66132a89)
    #7 __invoke<(lambda at ../../src/base/once.h:101:24) &> buildtools/third_party/libc++/trunk/include/__functional/invoke.h:394:23 (d8+0x5ecdad)
    #8 __call<(lambda at ../../src/base/once.h:101:24) &> buildtools/third_party/libc++/trunk/include/__functional/invoke.h:487:9 (d8+0x5ecdad)
    #9 operator() buildtools/third_party/libc++/trunk/include/__functional/function.h:232:12 (d8+0x5ecdad)
    #10 void std::Cr::__function::__policy_invoker<void ()>::__call_impl<std::Cr::__function::__default_alloc_func<void v8::base::CallOnce<void*, void>(std::Cr::atomic<unsigned char>*, v8::base::FunctionWithArgs<void*>::type, void*)::'lambda'(), void ()>>(std::Cr::__function::__policy_storage const*) buildtools/third_party/libc++/trunk/include/__functional/function.h:711:16 (d8+0x5ecdad)
    #11 operator() buildtools/third_party/libc++/trunk/include/__functional/function.h:842:16 (d8+0x20054f7) (BuildId: 8b25ec4b66132a89)
    #12 operator() buildtools/third_party/libc++/trunk/include/__functional/function.h:1152:12 (d8+0x20054f7)
    #13 v8::base::CallOnceImpl(std::Cr::atomic<unsigned char>*, std::Cr::function<void ()>) src/base/once.cc:36:5 (d8+0x20054f7)
    #14 CallOnce<void *, void> src/base/once.h:101:5 (d8+0x5d2f94) (BuildId: 8b25ec4b66132a89)
    #15 Init<void (*)(void *), void *> src/base/lazy-instance.h:144:5 (d8+0x5d2f94)
    #16 Init src/base/lazy-instance.h:175:5 (d8+0x5d2f94)
    #17 Pointer src/base/lazy-instance.h:180:5 (d8+0x5d2f94)
    #18 v8::Shell::WorkerNew(v8::FunctionCallbackInfo<v8::Value> const&) src/d8/d8.cc:2929:24 (d8+0x5d2f94)
    #19 v8::internal::FunctionCallbackArguments::Call(v8::internal::CallHandlerInfo) src/api/api-arguments-inl.h:146:3 (d8+0x684709) (BuildId: 8b25ec4b66132a89)
    #20 v8::internal::MaybeHandle<v8::internal::Object> v8::internal::(anonymous namespace)::HandleApiCallHelper<true>(v8::internal::Isolate*, v8::internal::Handle<v8::internal::HeapObject>, v8::internal::Handle<v8::internal::FunctionTemplateInfo>, v8::internal::Handle<v8::internal::Object>, unsigned long*, int) src/builtins/builtins-api.cc:113:36 (d8+0x68312c) (BuildId: 8b25ec4b66132a89)
    #21 v8::internal::Builtin_Impl_HandleApiCall(v8::internal::BuiltinArguments, v8::internal::Isolate*) src/builtins/builtins-api.cc:144:5 (d8+0x68275b) (BuildId: 8b25ec4b66132a89)
    #22 v8::internal::Builtin_HandleApiCall(int, unsigned long*, v8::internal::Isolate*) src/builtins/builtins-api.cc:135:1 (d8+0x682273) (BuildId: 8b25ec4b66132a89)
    #23 Builtins_AsyncFromSyncIteratorPrototypeThrow setup-isolate-deserialize.cc (d8+0x1dd5837)
    #24 v8::internal::Execution::CallScript(v8::internal::Isolate*, v8::internal::Handle<v8::internal::JSFunction>, v8::internal::Handle<v8::internal::Object>, v8::internal::Handle<v8::internal::Object>) src/execution/execution.cc:538:10 (d8+0x85ca90) (BuildId: 8b25ec4b66132a89)
    #25 v8::Script::Run(v8::Local<v8::Context>, v8::Local<v8::Data>) src/api/api.cc:2271:7 (d8+0x603527) (BuildId: 8b25ec4b66132a89)
    #26 v8::Script::Run(v8::Local<v8::Context>) src/api/api.cc:2198:10 (d8+0x602ce0) (BuildId: 8b25ec4b66132a89)
    #27 v8::Shell::ExecuteString(v8::Isolate*, v8::Local<v8::String>, v8::Local<v8::String>, v8::Shell::PrintResult, v8::Shell::ReportExceptions, v8::Shell::ProcessMessageQueue) src/d8/d8.cc:876:28 (d8+0x5c03d6) (BuildId: 8b25ec4b66132a89)
    #28 v8::SourceGroup::Execute(v8::Isolate*) src/d8/d8.cc:4483:10 (d8+0x5da0d3) (BuildId: 8b25ec4b66132a89)
    #29 v8::Shell::RunMain(v8::Isolate*, bool) src/d8/d8.cc:5217:39 (d8+0x5de08e) (BuildId: 8b25ec4b66132a89)
    #30 v8::Shell::Main(int, char**) src/d8/d8.cc:5973:20 (d8+0x5e04ed) (BuildId: 8b25ec4b66132a89)
    #31 main src/d8/d8.cc:6110:43 (d8+0x5e0e80) (BuildId: 8b25ec4b66132a89)

  Mutex M1 (0x7b10000004c8) created at:
    #0 pthread_mutex_init /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1331:3 (d8+0x523300) (BuildId: 8b25ec4b66132a89)
    #1 InitializeRecursiveNativeHandle src/base/platform/mutex.cc:112:12 (d8+0x200643a) (BuildId: 8b25ec4b66132a89)
    #2 v8::base::RecursiveMutex::RecursiveMutex() src/base/platform/mutex.cc:187:3 (d8+0x200643a)
    #3 v8::internal::GlobalSafepoint::GlobalSafepoint(v8::internal::Isolate*) src/heap/safepoint.cc:293:18 (d8+0xa582f9) (BuildId: 8b25ec4b66132a89)
    #4 make_unique<v8::internal::GlobalSafepoint, v8::internal::Isolate *> buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x88808d) (BuildId: 8b25ec4b66132a89)
    #5 v8::internal::Isolate::Init(v8::internal::SnapshotData*, v8::internal::SnapshotData*, v8::internal::SnapshotData*, bool) src/execution/isolate.cc:4264:25 (d8+0x88808d)
    #6 v8::internal::Isolate::InitWithSnapshot(v8::internal::SnapshotData*, v8::internal::SnapshotData*, v8::internal::SnapshotData*, bool) src/execution/isolate.cc:4054:10 (d8+0x88a109) (BuildId: 8b25ec4b66132a89)
    #7 v8::internal::Snapshot::Initialize(v8::internal::Isolate*) src/snapshot/snapshot.cc:182:27 (d8+0x10fee3d) (BuildId: 8b25ec4b66132a89)
    #8 v8::Isolate::Initialize(v8::Isolate*, v8::Isolate::CreateParams const&) src/api/api.cc:9048:8 (d8+0x62cc79) (BuildId: 8b25ec4b66132a89)
    #9 v8::Isolate::New(v8::Isolate::CreateParams const&) src/api/api.cc:9084:3 (d8+0x62cf35) (BuildId: 8b25ec4b66132a89)
    #10 v8::Shell::Main(int, char**) src/d8/d8.cc:5902:22 (d8+0x5dff2e) (BuildId: 8b25ec4b66132a89)
    #11 main src/d8/d8.cc:6110:43 (d8+0x5e0e80) (BuildId: 8b25ec4b66132a89)

  Mutex M2 (0x7b3800010020) created at:
    #0 pthread_mutex_init /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1331:3 (d8+0x523300) (BuildId: 8b25ec4b66132a89)
    #1 InitializeRecursiveNativeHandle src/base/platform/mutex.cc:112:12 (d8+0x200643a) (BuildId: 8b25ec4b66132a89)
    #2 v8::base::RecursiveMutex::RecursiveMutex() src/base/platform/mutex.cc:187:3 (d8+0x200643a)
    #3 v8::internal::IsolateSafepoint::IsolateSafepoint(v8::internal::Heap*) src/heap/safepoint.cc:29:19 (d8+0xa56fd8) (BuildId: 8b25ec4b66132a89)
    #4 make_unique<v8::internal::IsolateSafepoint, v8::internal::Heap *> buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x931778) (BuildId: 8b25ec4b66132a89)
    #5 v8::internal::Heap::Heap() src/heap/heap.cc:232:18 (d8+0x931778)
    #6 v8::internal::Isolate::Isolate(std::Cr::unique_ptr<v8::internal::IsolateAllocator, std::Cr::default_delete<v8::internal::IsolateAllocator>>, bool) src/execution/isolate.cc:3432:10 (d8+0x883e6c) (BuildId: 8b25ec4b66132a89)
    #7 Allocate src/execution/isolate.cc:3350:25 (d8+0x882a60) (BuildId: 8b25ec4b66132a89)
    #8 v8::internal::Isolate::New() src/execution/isolate.cc:3328:22 (d8+0x882a60)
    #9 Allocate src/api/api.cc:8975:37 (d8+0x62cf27) (BuildId: 8b25ec4b66132a89)
    #10 v8::Isolate::New(v8::Isolate::CreateParams const&) src/api/api.cc:9083:25 (d8+0x62cf27)
    #11 v8::Worker::ExecuteInThread() src/d8/d8.cc:4745:14 (d8+0x5db3ed) (BuildId: 8b25ec4b66132a89)
    #12 v8::Worker::WorkerThread::Run() src/d8/d8.cc:4622:11 (d8+0x5db334) (BuildId: 8b25ec4b66132a89)
    #13 NotifyStartedAndRun src/base/platform/platform.h:596:5 (d8+0x200e592) (BuildId: 8b25ec4b66132a89)
    #14 v8::base::ThreadEntry(void*) src/base/platform/platform-posix.cc:1123:11 (d8+0x200e592)

  Mutex M3 (0x7b380003e000) created at:
    #0 pthread_mutex_init /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1331:3 (d8+0x523300) (BuildId: 8b25ec4b66132a89)
    #1 InitializeRecursiveNativeHandle src/base/platform/mutex.cc:112:12 (d8+0x200643a) (BuildId: 8b25ec4b66132a89)
    #2 v8::base::RecursiveMutex::RecursiveMutex() src/base/platform/mutex.cc:187:3 (d8+0x200643a)
    #3 v8::internal::IsolateSafepoint::IsolateSafepoint(v8::internal::Heap*) src/heap/safepoint.cc:29:19 (d8+0xa56fd8) (BuildId: 8b25ec4b66132a89)
    #4 make_unique<v8::internal::IsolateSafepoint, v8::internal::Heap *> buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x931778) (BuildId: 8b25ec4b66132a89)
    #5 v8::internal::Heap::Heap() src/heap/heap.cc:232:18 (d8+0x931778)
    #6 v8::internal::Isolate::Isolate(std::Cr::unique_ptr<v8::internal::IsolateAllocator, std::Cr::default_delete<v8::internal::IsolateAllocator>>, bool) src/execution/isolate.cc:3432:10 (d8+0x883e6c) (BuildId: 8b25ec4b66132a89)
    #7 Allocate src/execution/isolate.cc:3350:25 (d8+0x882a60) (BuildId: 8b25ec4b66132a89)
    #8 v8::internal::Isolate::New() src/execution/isolate.cc:3328:22 (d8+0x882a60)
    #9 Allocate src/api/api.cc:8975:37 (d8+0x62cf27) (BuildId: 8b25ec4b66132a89)
    #10 v8::Isolate::New(v8::Isolate::CreateParams const&) src/api/api.cc:9083:25 (d8+0x62cf27)
    #11 v8::Worker::ExecuteInThread() src/d8/d8.cc:4745:14 (d8+0x5db3ed) (BuildId: 8b25ec4b66132a89)
    #12 v8::Worker::WorkerThread::Run() src/d8/d8.cc:4622:11 (d8+0x5db334) (BuildId: 8b25ec4b66132a89)
    #13 NotifyStartedAndRun src/base/platform/platform.h:596:5 (d8+0x200e592) (BuildId: 8b25ec4b66132a89)
    #14 v8::base::ThreadEntry(void*) src/base/platform/platform-posix.cc:1123:11 (d8+0x200e592)

  Mutex M4 (0x7b38000000a0) created at:
    #0 pthread_mutex_init /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1331:3 (d8+0x523300) (BuildId: 8b25ec4b66132a89)
    #1 InitializeRecursiveNativeHandle src/base/platform/mutex.cc:112:12 (d8+0x200643a) (BuildId: 8b25ec4b66132a89)
    #2 v8::base::RecursiveMutex::RecursiveMutex() src/base/platform/mutex.cc:187:3 (d8+0x200643a)
    #3 v8::internal::IsolateSafepoint::IsolateSafepoint(v8::internal::Heap*) src/heap/safepoint.cc:29:19 (d8+0xa56fd8) (BuildId: 8b25ec4b66132a89)
    #4 make_unique<v8::internal::IsolateSafepoint, v8::internal::Heap *> buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x931778) (BuildId: 8b25ec4b66132a89)
    #5 v8::internal::Heap::Heap() src/heap/heap.cc:232:18 (d8+0x931778)
    #6 v8::internal::Isolate::Isolate(std::Cr::unique_ptr<v8::internal::IsolateAllocator, std::Cr::default_delete<v8::internal::IsolateAllocator>>, bool) src/execution/isolate.cc:3432:10 (d8+0x883e6c) (BuildId: 8b25ec4b66132a89)
    #7 Allocate src/execution/isolate.cc:3350:25 (d8+0x882a60) (BuildId: 8b25ec4b66132a89)
    #8 v8::internal::Isolate::New() src/execution/isolate.cc:3328:22 (d8+0x882a60)
    #9 Allocate src/api/api.cc:8975:37 (d8+0x62cf27) (BuildId: 8b25ec4b66132a89)
    #10 v8::Isolate::New(v8::Isolate::CreateParams const&) src/api/api.cc:9083:25 (d8+0x62cf27)
    #11 v8::Shell::Main(int, char**) src/d8/d8.cc:5902:22 (d8+0x5dff2e) (BuildId: 8b25ec4b66132a89)
    #12 main src/d8/d8.cc:6110:43 (d8+0x5e0e80) (BuildId: 8b25ec4b66132a89)

  Mutex M5 (0x7b0c0001a670) created at:
    #0 pthread_mutex_init /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1331:3 (d8+0x523300) (BuildId: 8b25ec4b66132a89)
    #1 InitializeNativeHandle src/base/platform/mutex.cc:99:12 (d8+0x200632b) (BuildId: 8b25ec4b66132a89)
    #2 v8::base::Mutex::Mutex() src/base/platform/mutex.cc:152:3 (d8+0x200632b)
    #3 v8::internal::MemoryChunk::MemoryChunk(v8::internal::Heap*, v8::internal::BaseSpace*, unsigned long, unsigned long, unsigned long, v8::internal::VirtualMemory, v8::internal::Executability, v8::internal::PageSize) src/heap/memory-chunk.cc:154:16 (d8+0xa31caf) (BuildId: 8b25ec4b66132a89)
    #4 v8::internal::Page::Page(v8::internal::Heap*, v8::internal::BaseSpace*, unsigned long, unsigned long, unsigned long, v8::internal::VirtualMemory, v8::internal::Executability) src/heap/spaces.cc:53:7 (d8+0xa84c1f) (BuildId: 8b25ec4b66132a89)
    #5 v8::internal::MemoryAllocator::AllocatePage(v8::internal::MemoryAllocator::AllocationMode, v8::internal::Space*, v8::internal::Executability) src/heap/memory-allocator.cc:579:40 (d8+0xa2e8a4) (BuildId: 8b25ec4b66132a89)
    #6 v8::internal::PagedSpaceBase::TryExpandImpl() src/heap/paged-spaces.cc:393:44 (d8+0xa4d968) (BuildId: 8b25ec4b66132a89)
    #7 PreallocatePages src/heap/new-spaces.cc:984:10 (d8+0xa3d120) (BuildId: 8b25ec4b66132a89)
    #8 PagedSpaceForNewSpace src/heap/new-spaces.cc:901:8 (d8+0xa3d120)
    #9 v8::internal::PagedNewSpace::PagedNewSpace(v8::internal::Heap*, unsigned long, unsigned long, v8::internal::LinearAllocationArea&) src/heap/new-spaces.cc:1016:7 (d8+0xa3d120)
    #10 make_unique<v8::internal::PagedNewSpace, v8::internal::Heap *, unsigned long &, unsigned long &, v8::internal::LinearAllocationArea &> buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x958151) (BuildId: 8b25ec4b66132a89)
    #11 v8::internal::Heap::SetUpSpaces(v8::internal::LinearAllocationArea&, v8::internal::LinearAllocationArea&) src/heap/heap.cc:5564:27 (d8+0x958151)
    #12 v8::internal::Isolate::Init(v8::internal::SnapshotData*, v8::internal::SnapshotData*, v8::internal::SnapshotData*, bool) src/execution/isolate.cc:4338:9 (d8+0x88877c) (BuildId: 8b25ec4b66132a89)
    #13 v8::internal::Isolate::InitWithSnapshot(v8::internal::SnapshotData*, v8::internal::SnapshotData*, v8::internal::SnapshotData*, bool) src/execution/isolate.cc:4054:10 (d8+0x88a109) (BuildId: 8b25ec4b66132a89)
    #14 v8::internal::Snapshot::Initialize(v8::internal::Isolate*) src/snapshot/snapshot.cc:182:27 (d8+0x10fee3d) (BuildId: 8b25ec4b66132a89)
    #15 v8::Isolate::Initialize(v8::Isolate*, v8::Isolate::CreateParams const&) src/api/api.cc:9048:8 (d8+0x62cc79) (BuildId: 8b25ec4b66132a89)
    #16 v8::Isolate::New(v8::Isolate::CreateParams const&) src/api/api.cc:9084:3 (d8+0x62cf35) (BuildId: 8b25ec4b66132a89)
    #17 v8::Worker::ExecuteInThread() src/d8/d8.cc:4745:14 (d8+0x5db3ed) (BuildId: 8b25ec4b66132a89)
    #18 v8::Worker::WorkerThread::Run() src/d8/d8.cc:4622:11 (d8+0x5db334) (BuildId: 8b25ec4b66132a89)
    #19 NotifyStartedAndRun src/base/platform/platform.h:596:5 (d8+0x200e592) (BuildId: 8b25ec4b66132a89)
    #20 v8::base::ThreadEntry(void*) src/base/platform/platform-posix.cc:1123:11 (d8+0x200e592)

  Thread T3 'V8 DefaultWorke' (tid=10500, running) created by main thread at:
    #0 pthread_create /b/s/w/ir/cache/builder/src/third_party/llvm/compiler-rt/lib/tsan/rtl/tsan_interceptors_posix.cpp:1038:3 (d8+0x52198b) (BuildId: 8b25ec4b66132a89)
    #1 v8::base::Thread::Start() src/base/platform/platform-posix.cc:1155:14 (d8+0x200e4a6) (BuildId: 8b25ec4b66132a89)
    #2 WorkerThread src/libplatform/default-worker-threads-task-runner.cc:66:3 (d8+0x2019c07) (BuildId: 8b25ec4b66132a89)
    #3 make_unique<v8::platform::DefaultWorkerThreadsTaskRunner::WorkerThread, v8::platform::DefaultWorkerThreadsTaskRunner *> buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x2019c07)
    #4 v8::platform::DefaultWorkerThreadsTaskRunner::DefaultWorkerThreadsTaskRunner(unsigned int, double (*)()) src/libplatform/default-worker-threads-task-runner.cc:16:28 (d8+0x2019c07)
    #5 construct_at<v8::platform::DefaultWorkerThreadsTaskRunner, const int &, double (*)(), v8::platform::DefaultWorkerThreadsTaskRunner *> buildtools/third_party/libc++/trunk/include/__memory/construct_at.h:38:48 (d8+0x2010d60) (BuildId: 8b25ec4b66132a89)
    #6 construct<v8::platform::DefaultWorkerThreadsTaskRunner, const int &, double (*)(), void, void> buildtools/third_party/libc++/trunk/include/__memory/allocator_traits.h:304:9 (d8+0x2010d60)
    #7 __shared_ptr_emplace<const int &, double (*)()> buildtools/third_party/libc++/trunk/include/__memory/shared_ptr.h:275:9 (d8+0x2010d60)
    #8 allocate_shared<v8::platform::DefaultWorkerThreadsTaskRunner, std::Cr::allocator<v8::platform::DefaultWorkerThreadsTaskRunner>, const int &, double (*)(), void> buildtools/third_party/libc++/trunk/include/__memory/shared_ptr.h:936:55 (d8+0x2010d60)
    #9 make_shared<v8::platform::DefaultWorkerThreadsTaskRunner, const int &, double (*)(), void> buildtools/third_party/libc++/trunk/include/__memory/shared_ptr.h:945:12 (d8+0x2010d60)
    #10 EnsureBackgroundTaskRunnerInitialized src/libplatform/default-platform.cc:132:7 (d8+0x2010d60)
    #11 v8::platform::DefaultPlatform::DefaultPlatform(int, v8::platform::IdleTaskSupport, std::Cr::unique_ptr<v8::TracingController, std::Cr::default_delete<v8::TracingController>>) src/libplatform/default-platform.cc:108:5 (d8+0x2010d60)
    #12 make_unique<v8::platform::DefaultPlatform, int &, v8::platform::IdleTaskSupport &, std::Cr::unique_ptr<v8::TracingController, std::Cr::default_delete<v8::TracingController> > > buildtools/third_party/libc++/trunk/include/__memory/unique_ptr.h:686:30 (d8+0x20103d2) (BuildId: 8b25ec4b66132a89)
    #13 v8::platform::NewDefaultPlatform(int, v8::platform::IdleTaskSupport, v8::platform::InProcessStackDumping, std::Cr::unique_ptr<v8::TracingController, std::Cr::default_delete<v8::TracingController>>) src/libplatform/default-platform.cc:53:19 (d8+0x20103d2)
    #14 v8::Shell::Main(int, char**) src/d8/d8.cc:5805:16 (d8+0x5dfa79) (BuildId: 8b25ec4b66132a89)
    #15 main src/d8/d8.cc:6110:43 (d8+0x5e0e80) (BuildId: 8b25ec4b66132a89)

SUMMARY: ThreadSanitizer: data race src/heap/memory-chunk.cc in v8::internal::MemoryChunk::SetOldGenerationPageFlags(bool)
==================
ThreadSanitizer: reported 1 warnings
ThreadSanitizer: Matched 2 suppressions (pid=10493):
2 deadlock:GlobalSafepoint::EnterGlobalSafepointScope