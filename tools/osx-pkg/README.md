## osx-pkg

### Build

Prerequisites:

* Packages: http://s.sudre.free.fr/Software/Packages/about.html

In the root io.js folder:

```bash
make pkg
```

### Localization

There are two files that can be localized in the OS X installer: the introduction, and the summary.

1. Make sure you've installed Packages: http://s.sudre.free.fr/Software/Packages/about.html
2. Duplicate the `strings/en` folder for reference, and rename the folder to the language you are localizing (ex. `fr`, `ru`, etc.)
3. Translate `introduction.rtf` and `summary.rtf`. Do not modify the words `__iojsversion__` or `__npmversion__`, as these are automatically replaced by the build step with the io.js and npm versions, respectively.
4. In the root `io.js` folder, run `make pre-pkg`. This will generate the files needed for Packages.
5. Open `tools/osx-pkg/osx-pkg.pkgproj` in Packages. (Not `osx-pkg-out.pkgproj`, as this is a generated file)
6. In Packages, go to the Presentation tab, and if not already selected, choose "Introduction" from the dropdown on the right-hand side.
![packages preview](https://s3.amazonaws.com/f.cl.ly/items/3q160p2r1X1B3i2N1W42/Screen%20Shot%202015-02-09%20at%207.26.09%20PM.png)
7. Press the "+" at the bottom right. This will add a new language entry. Click on the flag, and choose which language you are localizing. 
8. Click on the column next to the flag, and ensure "Relative to Project" is selected. It's a rectangle with the letter "R" inside of it.
9. Click on the last column, which will currently have a dash in it, and press "Choose...".
10. Locate the `introduction.rtf` file you translated, and choose it. Don't worry about the `introduction.out.rtf` file, as this is an autogenerated file, and is dealt with when compiling.
11. In the dropdown that says "Introduction" at the top, choose "Conclusion" and repeat this process for the `conclusion.rtf` file.
12. Save the project, and commit your changes. The generated files are automatically ignored by Git, so you don't have to worry about accidentally committing them in.
